# 3d积木小游戏

## 技术选型
基于vue，threejs的网页小游戏

## 场景
### 场景初始化
1. 场景大小x: -5 ~ 5, y: 0 ~ 10, z: -5 - 5
2. 摄像机lookat(0,0,0)
3. 摄像机初始位置(6,10,8)
4. 需要一个深色地面和次深色的背景，地面在y=0的位置上
5. 地面上绘制稍微浅一点的10*10的网格

### 场景交互
1. 按下a键, 摄像机以Y轴正方向为旋转轴旋转90度
2. 按下d键，摄像机以Y轴正方向为旋转轴旋转-90度
3. 使用鼠标左键可以调整视角（可以直接使用threejs中的控件）
4. 按下重置按钮摄像头回到初始位置

## 积木

### 初始化
1. 单元格, 以xyz都是整数的点为中心，边长为1的小立方体
2. 积木由多个小立方体组成，每块积木由一个number[][]表示，内层为每个单元格的位置，外层该积木所占用的单元格
3. 共7块积木
    1. [[0,0,0], [-1,0,0], [0,0,1]]
    2. [[0,0,0], [-1,0,0], [0,0,1], [1,0,1]]
    3. [[0,0,0], [-1,0,0], [1,0,0], [1,0,1]]
    4. [[0,0,0], [-1,0,0], [1,0,0], [0,0,1]]
    5. [[0,0,0], [-1,0,0], [1,0,0], [0,1,0]]
    6. [[0,0,0], [-1,0,0], [1,0,0], [-1,1,0]]
    7. [[0,0,0], [-1,0,0], [1,0,0], [1,1,0]]
4. 给每一块积木一个不同的颜色

### 积木交互
1. 点击积木进入选中状态，点击场景空白处取消选中
2. 鼠标和积木交互时场景停止旋转
3. 鼠标拖拽积木时积木中心位置为x0,y0,z0,在x=x0,y=y0,z=z0三个平面找到平面法线与当前摄像机朝向夹角最小的平面，积木在该平面上移动
4. 积木移动时只能移动整数格
5. 积木可以通过上下左右按键进行翻转，翻转方向结合当前摄像机的朝向和摄像机的上方向进行计算，每次沿单个坐标轴翻转90度

## 界面
1. 左侧放置7块积木的缩略图，用于快速选中。缩略图可以是一个小型的不可交互的3d场景，放置单个积木对象，并控制一下摄像机和视角和距离。
2. 右侧放置控制按钮，图标可以直接使用svg绘制
    1. 左箭头按钮，原点按钮，右箭头按钮，对应键盘a键功能，摄像机复位，键盘d键功能
    2. 参考游戏手柄上的上下左右按钮，对应积木的上下左右翻转功能
